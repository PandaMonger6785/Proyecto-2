/* ================================
   Variables y base
================================ */
:root{
  --bg:#f5f6f7; --ink:#111; --muted:#4b5563;
  --brand:#232f3e; --accent:#ffd814; --card:#fff;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg);
  font-family:"Segoe UI", Arial, sans-serif; color:var(--ink);
}
.page-content{ padding:20px 12px 60px; }

/* ================================
   Header + navegación
================================ */
header.top{
  position:sticky; top:0; z-index:20;
  display:flex; align-items:center; justify-content:space-between; gap:18px;
  background:var(--brand); color:#fff; padding:12px 18px;
}
header.top .logo, header.top .brand{font-size:22px; font-weight:800}
header.top .search{flex:1; max-width:900px}
header.top .search input{ width:100%; padding:10px 14px; border:0; border-radius:8px; }

.main-nav ul{
  display:flex; align-items:center; gap:6px;
  list-style:none; margin:0; padding:0;
}
.main-nav a, .main-nav .dd-toggle{
  color:#fff; background:transparent; border:0;
  font-weight:700; padding:8px 10px; border-radius:8px;
  text-decoration:none; cursor:pointer;
}
.main-nav a:hover, .main-nav .dd-toggle:hover{
  background:rgba(255,255,255,.08);
}

/* Dropdown */
.has-dd{ position:relative }
.has-dd .dropdown{
  position:absolute; top:100%; left:0;
  background:#fff; color:#111; min-width:230px;
  border-radius:10px; padding:8px; margin-top:8px;
  box-shadow:0 12px 28px rgba(0,0,0,.18);
  display:none; z-index:30;
}
.has-dd .dropdown.right{ left:auto; right:0 }
.has-dd .dropdown a,
.has-dd .dropdown .dropdown-action{
  display:block; width:100%; text-align:left;
  text-decoration:none; color:#111; font-weight:600;
  padding:8px 10px; border-radius:8px; border:0; background:#fff; cursor:pointer;
}
.has-dd .dropdown a:hover,
.has-dd .dropdown .dropdown-action:hover{ background:#f3f4f6 }
.has-dd .dropdown hr{ border:0; border-top:1px solid #e5e7eb; margin:6px 0 }
.has-dd.open .dropdown,
.has-dd:focus-within .dropdown{ display:block }

@media (max-width: 860px){
  header.top .search{ max-width:520px }
  .main-nav a, .main-nav .dd-toggle{ padding:8px }
}
@media (max-width: 640px){
  header.top .search{ display:none }
}

/* Toasts */
.toast-container{
  position:fixed; right:18px; bottom:18px; display:flex; flex-direction:column;
  gap:10px; z-index:1200;
}
.toast{
  background:#111; color:#fff; padding:12px 16px; border-radius:10px;
  box-shadow:0 12px 20px rgba(0,0,0,.2); opacity:0; transform:translateY(10px);
  transition:all .25s ease;
}
.toast.show{ opacity:1; transform:translateY(0); }
.toast-success{ background:#10b981; }
.toast-warning{ background:#f59e0b; color:#111; }
.toast-danger{ background:#ef4444; }

/* ================================
   Hero
================================ */
.hero-simple{ background:var(--accent) }
.hero-simple .hero-inner{
  max-width:1400px; margin:0 auto; padding:28px 12px; text-align:center;
}
.hero-simple h2{ margin:0 0 6px; font-size:clamp(22px,2.2vw,32px) }
.hero-simple p{ margin:0; color:#111; opacity:.9 }

/* ================================
   Tabs / toolbar
================================ */
.tabs{
  display:flex; gap:10px; border-bottom:2px solid #e5e7eb;
  max-width:1400px; margin:30px auto 0; padding:0 12px;
}
.tab{
  appearance:none; background:#f3f4f6; border:0;
  border-radius:10px 10px 0 0; padding:10px 14px;
  font-weight:700; cursor:pointer; color:#374151;
}
.tab[aria-selected="true"]{ background:#fff; color:#111; border-bottom:2px solid #fff }
.tab:focus{ outline:2px solid #2563eb; outline-offset:2px }

.tab-panel{
  max-width:1400px; margin:0 auto; padding:20px 12px;
  background:#fff; border-radius:10px;
}

.toolbar{
  max-width:1400px; margin:24px auto 0; display:flex; flex-wrap:wrap;
  justify-content:space-between; gap:16px; align-items:center;
}
.toolbar .search{flex:1; min-width:220px;}
.toolbar .search input{
  width:100%; padding:12px 14px; border-radius:10px; border:1px solid #d1d5db;
}
.toolbar-actions{display:flex; align-items:center; gap:16px; flex-wrap:wrap;}
@media (max-width: 720px){
  .toolbar{flex-direction:column; align-items:stretch;}
  .toolbar-actions{justify-content:space-between}
}

/* ================================
   Grid de productos + Cards
================================ */
.grid-products{
  display:grid;
  grid-template-columns: repeat(4, minmax(260px, 1fr));
  gap:26px;
  max-width:1360px;
  margin:24px auto;
  padding:0 12px;
}
.card{
  background:#fff; border-radius:12px;
  box-shadow:0 2px 4px rgba(0,0,0,.1);
  padding:22px; text-align:left;
  min-height:420px; display:flex; flex-direction:column;
  transition:transform .12s ease, box-shadow .12s ease;
}
.card:hover{ transform:translateY(-3px); box-shadow:0 10px 24px rgba(0,0,0,.14) }
.card img{
  width:100%; height:260px; object-fit:cover; border-radius:12px; background:#f3f3f3;
  aspect-ratio:16/10;
}
.badge{
  display:inline-block; background:#ffe08a; color:#8a5a00;
  font-size:.78rem; border-radius:999px; padding:4px 10px; margin-bottom:10px;
}
.card h3{ margin:10px 0 4px }
.card p{ color:#4b5563; margin:0 0 12px }
.price{ font-weight:800; margin:.5rem 0 }
.actions{ margin-top:auto; display:flex; gap:12px }

/* Botones */
.btn{ border:0; border-radius:10px; padding:12px 14px; cursor:pointer; font-weight:700 }
.btn-primary{ background:#ffa41c; color:#111 }
.btn-ghost{ background:#f3f4f6 }
.btn-secondary{background:#e5e7eb}
.btn-small{padding:8px 10px; font-size:.85rem;}
.btn-small.btn-ghost{background:#fff; border:1px solid #d1d5db}

@media (max-width: 1200px){
  .grid-products{ grid-template-columns: repeat(3, minmax(260px, 1fr)); }
}
@media (max-width: 900px){
  .grid-products{ grid-template-columns: repeat(2, minmax(260px, 1fr)); }
}
@media (max-width: 520px){
  .grid-products{ grid-template-columns: 1fr; }
  .card{ min-height:380px }
  .card img{ height:210px }
}

/* ================================
   Formularios / páginas (login, contacto)
================================ */
.login-page .page-content{
  display:flex; justify-content:center; align-items:center;
  min-height:calc(100vh - 80px);
}
.login-container{
  background:#fff; padding:30px; border-radius:10px;
  box-shadow:0 3px 6px rgba(0,0,0,.2); width:320px;
}
.form-group{display:flex; flex-direction:column; gap:6px; margin-bottom:14px}
.form-group label{font-weight:600}
input[type="text"], input[type="email"], input[type="password"], textarea{
  border:1px solid #d1d5db; border-radius:8px; padding:10px 12px; font-size:1rem;
}
.textarea{min-height:120px; resize:vertical}
.form-actions{display:flex; gap:12px; flex-wrap:wrap}
.meta{color:var(--muted); font-size:.92rem}
.msg-ok{background:#ecfdf5;border:1px solid #10b981;color:#065f46;padding:10px;border-radius:8px;margin-bottom:12px}
.msg-err{background:#fee2e2;border:1px solid #fca5a5;color:#991b1b;padding:10px;border-radius:8px;margin-bottom:12px}
.error-msg{color:#b91c1c;background:#fee2e2;border:1px solid #fca5a5;border-radius:8px;padding:8px;margin:10px 0}
.field-err{border-color:#ef4444 !important}

.contacto-container, .ventas-container{
  max-width:600px; margin:40px auto; background:#fff;
  padding:30px; border-radius:10px; box-shadow:0 2px 4px rgba(0,0,0,.2);
}

/* ================================
   Ventas / compras
================================ */
.ventas-container{
  max-width:1200px;
  display:grid; grid-template-columns: minmax(320px, 1fr) 340px;
  gap:24px; align-items:flex-start;
}
.ventas-form{background:#fff; padding:24px; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,.1)}
.productos-lista{display:flex; flex-direction:column; gap:16px}
.producto-item{display:flex; justify-content:space-between; gap:12px; align-items:center; padding:12px 14px; border:1px solid #e5e7eb; border-radius:10px; background:#f9fafb}
.producto-item input[type="number"]{width:80px; padding:8px; border-radius:8px; border:1px solid #d1d5db}
.producto-check{display:flex; align-items:center; gap:10px; font-weight:600}
.resumen-compra{ background:#fff; padding:24px; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,.1); }
.lista-seleccionados{display:flex; flex-direction:column; gap:10px; margin-bottom:12px}
.resumen-item{display:flex; justify-content:space-between; gap:10px; align-items:flex-start; padding-bottom:8px; border-bottom:1px solid #e5e7eb}
.resumen-actions{display:flex; gap:10px; margin-top:14px}
.terminos{display:flex; align-items:center; gap:8px; font-size:.95rem; margin-top:10px}

.compras-realizadas{max-width:1200px; margin:32px auto 0; background:#fff; padding:24px; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,.1)}
.purchases-list{display:flex; flex-direction:column; gap:16px}
.purchase-card{border:1px solid #e5e7eb; border-radius:10px; padding:18px}
.purchase-card header{display:flex; flex-wrap:wrap; gap:10px; justify-content:space-between; align-items:center; margin-bottom:12px}
.purchase-items{display:flex; flex-direction:column; gap:12px}
.purchase-item{display:flex; justify-content:space-between; gap:10px; align-items:flex-start; background:#f9fafb; padding:12px; border-radius:8px}
.purchase-actions{display:flex; gap:8px}
.badge{white-space:nowrap}
.badge-pending{background:#fef3c7; color:#92400e}
.badge-received{background:#dcfce7; color:#166534}
.badge-return_requested{background:#fee2e2; color:#991b1b}

@media (max-width: 960px){
  .ventas-container{grid-template-columns:1fr;}
}

/* ================================
   Modal genérico
================================ */
.hidden{ display:none !important }
.modal{ position:fixed; inset:0; z-index:1000 }
.modal-backdrop{
  position:absolute; inset:0; background:rgba(0,0,0,.45);
  backdrop-filter:saturate(1.2) blur(2px);
}
.modal-card{
  position:relative; max-width:420px; width:calc(100% - 32px);
  margin:10vh auto 0; background:#fff; color:#111; border-radius:14px;
  box-shadow:0 24px 60px rgba(0,0,0,.3); padding:18px;
}
.modal-header{display:flex; justify-content:space-between; align-items:center; gap:10px}
.modal-body{display:flex; gap:18px; flex-wrap:wrap; align-items:flex-start}
.modal-body.column{flex-direction:column}
.modal-body .modal-img{width:260px; height:260px; object-fit:cover; border-radius:12px; background:#f3f3f3}
.modal-info h4{margin:0}
.modal-info .meta{color:#6b7280; margin:6px 0 12px}

/* Modal: cantidad */
.cm-name{ color:#374151; margin:0 0 10px; font-weight:600 }
.cm-row{ display:flex; justify-content:space-between; align-items:center; margin:8px 0 }
.cm-row label{ color:#6b7280 }
#cmQty{ width:110px; padding:8px 10px; border:1px solid #d1d5db; border-radius:8px }
.cm-row.total{ border-top:1px solid #e5e7eb; padding-top:10px; font-weight:800 }
.cm-actions{ display:flex; justify-content:flex-end; gap:10px; margin-top:14px }

/* Carrito en cuenta */
.badge-cart{
  display:inline-flex; align-items:center; justify-content:center;
  min-width:20px; height:20px; padding:0 8px; margin-left:6px;
  border-radius:999px; font-size:.82rem; font-weight:800; line-height:1;
  background:#f59e0b; color:#111;
  box-shadow: inset 0 -1px 0 rgba(0,0,0,.15);
}
#accountDropdown{ min-width:340px; max-width:420px }
.cart-head{ display:flex; justify-content:space-between; align-items:center; padding:6px 4px 10px }
.cart-items{
  max-height:320px; overflow:auto;
  border-top:1px solid #e5e7eb; border-bottom:1px solid #e5e7eb; padding:6px 0;
}
.cart-item{
  display:grid; grid-template-columns:1fr auto; gap:6px; align-items:center;
  padding:8px; border-radius:8px;
}
.cart-item:hover{ background:#f9fafb }
.cart-item .meta{ color:#4b5563; font-size:.9rem }
.cart-item .remove{
  background:#fee2e2; color:#991b1b; border:0; border-radius:6px; padding:6px 8px; cursor:pointer;
}

.cart-layout{
  display:grid;
  grid-template-columns:minmax(0, 2fr) minmax(280px, 420px);
  gap:28px;
  align-items:flex-start;
  margin-bottom:48px;
}
.cart-main{ background:#fff; border-radius:16px; padding:24px; box-shadow:0 20px 40px rgba(15,23,42,.08); }
.cart-header{ display:flex; justify-content:space-between; gap:20px; flex-wrap:wrap; align-items:flex-start; margin-bottom:20px; }
.cart-header h2{ margin:0 0 6px; }
.cart-actions{ display:flex; gap:10px; align-items:center; }
.cart-items-list{ display:flex; flex-direction:column; gap:18px; }
.cart-empty{ text-align:center; padding:36px 18px; background:#f9fafb; border-radius:14px; }
.cart-empty strong{ display:block; margin-bottom:8px; }
.cart-line{
  display:flex;
  justify-content:space-between;
  gap:18px;
  padding:18px;
  border:1px solid #e5e7eb;
  border-radius:14px;
  background:linear-gradient(180deg,#ffffff,#f8fafc 110%);
  box-shadow:0 12px 24px rgba(15,23,42,.05);
}
.cart-line-info{ flex:1; }
.cart-line-info strong{ display:block; margin-bottom:4px; font-size:1.05rem; }
.cart-line-info .meta{ color:#6b7280; margin-bottom:10px; }
.cart-remove{ background:none; border:0; color:#dc2626; font-weight:600; cursor:pointer; padding:0; }
.cart-line-actions{ display:flex; align-items:center; gap:18px; }
.qty-control{ display:inline-flex; align-items:center; border:1px solid #d1d5db; border-radius:10px; overflow:hidden; background:#fff; }
.qty-control input{ width:70px; text-align:center; border:0; padding:8px; font-weight:600; }
.qty-btn{ width:40px; height:100%; border:0; background:#f1f5f9; cursor:pointer; font-size:1.2rem; display:flex; align-items:center; justify-content:center; color:#1f2937; }
.qty-btn:hover{ background:#e2e8f0; }
.cart-line-subtotal{ font-weight:700; font-size:1.05rem; min-width:120px; text-align:right; }

.cart-summary{ position:sticky; top:96px; }
.summary-card{ background:#fff; border-radius:18px; padding:22px; box-shadow:0 24px 50px rgba(30,41,59,.12); display:flex; flex-direction:column; gap:16px; }
.summary-card .meta a{ color:#2563eb; text-decoration:none; }
.summary-card .meta a:hover{ text-decoration:underline; }
.summary-row{ display:flex; justify-content:space-between; font-weight:600; font-size:1.05rem; }
.btn-full{ width:100%; justify-content:center; }
.summary-help{ font-size:.9rem; color:#4b5563; margin:0; }

.cart-recommendations{ margin-bottom:54px; }
.cart-recommendations h3{ margin-bottom:18px; }
.recommendations-grid{ display:grid; grid-template-columns:repeat(auto-fill,minmax(220px,1fr)); gap:18px; }
.recommendation-card{ background:#fff; border-radius:16px; padding:18px; box-shadow:0 16px 32px rgba(15,23,42,.08); display:flex; flex-direction:column; justify-content:space-between; gap:12px; border:1px solid #e2e8f0; }
.recommendation-card .price{ font-weight:700; color:#111827; }
.rec-body h4{ margin:0 0 6px; font-size:1rem; }
.rec-footer{ display:flex; justify-content:space-between; align-items:center; gap:12px; }

@media (max-width: 1100px){
  .cart-layout{ grid-template-columns:1fr; }
  .cart-summary{ position:static; }
}
@media (max-width: 640px){
  .cart-line{ flex-direction:column; align-items:flex-start; }
  .cart-line-actions{ width:100%; justify-content:space-between; }
  .cart-line-subtotal{ text-align:left; }
  .qty-control{ width:100%; justify-content:space-between; }
  .qty-control input{ flex:1; }
}

/* Modal Detalles ancho */
#detailsModal .modal-card{
  max-width: min(1280px, calc(100% - 24px));
  width: 100%;
  padding: 24px;
}
#detailsModal .modal-card > div[style*="grid-template-columns"]{
  gap: 28px !important;
}